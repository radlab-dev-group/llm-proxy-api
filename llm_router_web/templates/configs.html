{% extends "base.html" %}
{% block content %}
<h2>Zdefiniowane konfigi</h2>
<table class="table">
    <thead>
    <tr>
        <th>Nazwa</th>
        <th>Utworzono</th>
        <th>Aktualizacja</th>
        <th>Status</th>
        <th>Akcje</th>
    </tr>
    </thead>
    <tbody>
    {% for c in configs %}
    <tr>
        <td>{{ c.name }}</td>
        <td>{{ c.created_at.strftime("%Y-%m-%d %H:%M") }}</td>
        <td>{{ c.updated_at.strftime("%Y-%m-%d %H:%M") }}</td>
        <td>{% if c.is_active %}<span class="badge">AKTYWNY</span>{% else %}-{% endif %}</td>
        <td class="nowrap">
            <a class="btn btn-small" href="{{ url_for('view_config', config_id=c.id) }}">Podgląd</a>
            <a class="btn btn-small" href="{{ url_for('edit_config', config_id=c.id) }}">Edytuj</a>
            <a class="btn btn-small" href="{{ url_for('export_config', config_id=c.id) }}">Eksport</a>
            <button class="btn btn-small" hx-post="{{ url_for('set_active_config', config_id=c.id) }}" hx-swap="none">Aktywuj</button>
        </td>
    </tr>
    {% else %}
    <tr><td colspan="5">Brak konfigów.</td></tr>
    {% endfor %}
    </tbody>
</table>
{% endblock %}